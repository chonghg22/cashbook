<!DOCTYPE html>
<html xmlns:th = "http://www.thymeleaf.org">
<head>
<link href="/css/registerForm.css" rel="stylesheet" media="all">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
// 버튼을 클릭했을때 공란이 있거나 4자 이하면 모든칸은 초기화 된다.

let helperInit = function(){
	$('#idHelper').text("");
	$('#pwHelper').text("");
	$('#nameHelper').text("");
	$('#phoneHelper').text("");
	$('#addressHelper').text("");
	$('#emailHelper').text("");
	$('#memberIdCheck').text("");
};

//document(body)가 준비되면 작동된다.
$(document).ready(function(){
	
//<button>을 클릭하면 작동된다.
	$('#btn').click(function(){
		// id값이 myform인 메소드에서 action 주소로 보낸다.
	
	
	if($('#memberId').val().length < 4) {
		helperInit();
		$('#idHelper').text("id 4자이상");
		$('#memberId').focus();
	} else if ($('#memberPw').val().length<4){
		helperInit();	
		$('#pwHelper').text("PW는 4자이상");
		$('#memberPw').focus();
		
	}else if ($('#memberPw').val() != $('#memberPw2').val()){
		helperInit();
		$('#pwHelper').text("Pw를 확인하세요");
		$('#memberPw').focus();
	}else if ($('#memberName').val().length ===0 ){
		helperInit();
		$('#nameHelper').text("입력하세요");
		$('#memberName').focus();
	}else if ($('#memberPhone').val().length ===0 ){
		helperInit();
		$('#phoneHelper').text("입력하세요");
		$('#memberPhone').focus();
	}else if ($('#memberAddress').val().length ===0 ){
		helperInit();
		$('#addressHelper').text("입력하세요");
		$('#memberAddress').focus();
	}else if ($('#memberEmail').val().length ===0 ){
		helperInit();
		$('#emailHelper').text("입력하세요");
		$('#memberEmail').focus();
	}else {
		$('#myform').submit();
	}
	
	});
	$('#idBtn').click(function(){
		if($('#memberIdCheck').val().length===0){
			return;
		}else if(){
			
			
		}
		$('#idForm').submit();
	});
	
	
});

</script>
</head>
<body>
	<div class="login-box">
        <h1>회원가입</h1>
        <form method = "post" action="/checkMemberId" id="idForm">	
      	<div>
      		<div class = "name">아이디 중복확인</div>      		
            <input type="text" name="memberIdCheck" id="memberIdCheck" placeholder="IdCheck"  required>
       </div>
		<div>
			<button type="button" id="idBtn">중복체크</button><span th:text="${msg}"></span>
		</div>
		</form>
		<form method = "post" action = "/addMember" id = "myform">
		<div>
      		<div class = "name">아이디</div>      		
            <input type="text" th:value = "${memberIdCheck}" name="memberId" id="memberId" placeholder="Id"  required>
       		<span id = "idHelper"></span>
       </div>
       <div>
      		<div class = "name">비밀번호</div>    		
            <input  type="password" name="memberPw" id = "memberPw" placeholder="PassWord"  required>
       		<span id = "pwHelper"></span>
       </div>
       <div>
      		<div class = "name">비밀번호 확인</div>    		
            <input  type="password" id = "memberPw2" placeholder="PassWord"  required>       		
       </div>
       <div>
      		<div class = "name">사용자 이름</div>      		
            <input type="text" name="memberName" id = "memberName" placeholder="Name"  required>
       		<span id = "nameHelper"></span>
       </div>
       <div>
      		<div class = "name">전화번호</div>       		
            <input  type="text" name="memberPhone" id = "memberPhone" placeholder="Phone"  required>
       		<span id = "phoneHelper"></span>
       </div>
       <div>
      		<div class = "name">주소</div>      		
            <input  type="text" name="memberAddress" id = "memberAddress" placeholder="Address"  required>
       		<span id = "addressHelper"></span>
       </div>
       <div>
      		<div class = "name">이메일</div>     		
            <input  type="text" name="memberEmail" id = "memberEmail" placeholder="Email"  required>
       		<span id = "emailHelper"></span>
       </div>
       <div>
			<button type="button" id="btn">확인</button>
		</div>            
        </form>
        </div> 	
</body>
</html>